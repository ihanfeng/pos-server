package com.dianba.pos.base.controller;import com.alibaba.fastjson.JSONObject;import com.dianba.pos.base.api.PassportApi;import com.dianba.pos.base.config.BaseUrlConstant;import com.dianba.pos.base.util.PassportUtil;import com.dianba.pos.base.vo.LoginPassportDto;import com.dianba.pos.common.util.AjaxJson;import com.dianba.pos.common.util.MapUtil;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import javax.servlet.http.HttpServletResponse;import java.util.Map;/** * Created by zhangyong on 2017/5/22. */@Controller@RequestMapping(BaseUrlConstant.LOGIN_URL)public class PosLoginController {    @RequestMapping(value = "loginPassport")    public AjaxJson loginPassport(HttpServletResponse response, LoginPassportDto            loginPassportDto) {        AjaxJson ajaxJson = new AjaxJson();        Map<String, Object> map = MapUtil.beanToMap(loginPassportDto);        String result=PassportApi.posLogin(response, PassportUtil.POS_LOGIN_URL, map, "utf-8");        JSONObject jsonObject=JSONObject.parseObject(result);        int code=jsonObject.getIntValue("code");        if(code==0){ //登录成功        }else{            String msg=jsonObject.getString("msg");        }        return ajaxJson;    }}